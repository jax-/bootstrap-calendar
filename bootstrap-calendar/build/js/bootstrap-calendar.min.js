this.CalendarTemplates=this.CalendarTemplates||{},this.CalendarTemplates.alert=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div class="alert alert-',(g=c.alertType)?f=g.call(b,{hash:{},data:e}):(g=b&&b.alertType,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+' alert-dismissible" role="alert">\r\n    <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>\r\n    ',(g=c.alertMessage)?f=g.call(b,{hash:{},data:e}):(g=b&&b.alertMessage,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"\r\n</div>"}),this.CalendarTemplates.calendar=Handlebars.template(function(a,b,c,d,e){function f(a){var b="";return b+="\r\n            <th>\r\n                "+p(typeof a===o?a.apply(a):a)+"\r\n            </th>\r\n            "}function g(a,b,d){var e,f="";return f+='\r\n    <tr class="week">\r\n        ',e=c.each.call(a,a&&a.days,{hash:{},inverse:r.noop,fn:r.programWithDepth(4,h,b,d),data:b}),(e||0===e)&&(f+=e),f+="\r\n    </tr>\r\n    "}function h(a,b,d){var e,f,g="";return g+='\r\n        <td class="',e=c["if"].call(a,a&&a.date_string,{hash:{},inverse:r.noop,fn:r.program(5,i,b),data:b}),(e||0===e)&&(g+=e),g+='" data-day="',(f=c.dayValue)?e=f.call(a,{hash:{},data:b}):(f=a&&a.dayValue,e=typeof f===o?f.call(a,{hash:{},data:b}):f),g+=p(e)+'">\r\n            <div class="week-day-div ',e=c["if"].call(a,a&&a.current,{hash:{},inverse:r.noop,fn:r.program(7,j,b),data:b}),(e||0===e)&&(g+=e),g+='">\r\n                <ul style="list-style:none;">\r\n                    <li><span class="date ">',(f=c.date_string)?e=f.call(a,{hash:{},data:b}):(f=a&&a.date_string,e=typeof f===o?f.call(a,{hash:{},data:b}):f),g+=p(e)+"</span></li>\r\n                    ",e=c.each.call(a,a&&a.events,{hash:{},inverse:r.noop,fn:r.programWithDepth(9,k,b,a,d),data:b}),(e||0===e)&&(g+=e),g+="\r\n                </ul>\r\n            </div>\r\n        </td>\r\n        "}function i(){return" week-day "}function j(){return" current "}function k(a,b,d,e){var f,g,h,i="";return i+='\r\n                    <li>\r\n                        <span class="event '+p((g=c.computeTextColorClass||a&&a.computeTextColorClass,h={hash:{},data:b},g?g.call(a,a&&a.color,h):q.call(a,"computeTextColorClass",a&&a.color,h)))+'" data-day="'+p((f=d&&d.dayValue,typeof f===o?f.apply(a):f))+'" data-eventid="',(g=c.eventId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.eventId,f=typeof g===o?g.call(a,{hash:{},data:b}):g),i+=p(f)+'" style="background-color:'+p((f=a&&a.color,typeof f===o?f.apply(a):f))+';">\r\n                            <span> ('+p((g=c.formatTime||a&&a.formatTime,h={hash:{},data:b},g?g.call(a,a&&a.timeFrom,h):q.call(a,"formatTime",a&&a.timeFrom,h)))+" - "+p((g=c.formatTime||a&&a.formatTime,h={hash:{},data:b},g?g.call(a,a&&a.timeTo,h):q.call(a,"formatTime",a&&a.timeTo,h)))+") <br /> ",f=c.unless.call(a,(f=e&&e.CONFIG,null==f||f===!1?f:f.hideAttendee),{hash:{},inverse:r.noop,fn:r.program(10,l,b),data:b}),(f||0===f)&&(i+=f),i+=p((g=c.formatEventName||a&&a.formatEventName,h={hash:{},data:b},g?g.call(a,a&&a.eventName,h):q.call(a,"formatEventName",a&&a.eventName,h)))+"</span>\r\n                        </span>\r\n                    </li>\r\n                    "}function l(a){var b,c="";return c+=" "+p((b=a&&a.personName,typeof b===o?b.apply(a):b))+" - "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var m,n="",o="function",p=this.escapeExpression,q=c.helperMissing,r=this;return n+='\r\n<table class="table calendar">\r\n    <thead>\r\n        <tr>\r\n            ',m=c.each.call(b,b&&b.weekdays,{hash:{},inverse:r.noop,fn:r.program(1,f,e),data:e}),(m||0===m)&&(n+=m),n+="\r\n        </tr>\r\n    </thead>\r\n    ",m=c.each.call(b,b&&b.weeks,{hash:{},inverse:r.noop,fn:r.programWithDepth(3,g,e,b),data:e}),(m||0===m)&&(n+=m),n+="\r\n\r\n</table>"}),this.CalendarTemplates.calendarContainer=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c="";return c+='\r\n\r\n<ul class="nav nav-tabs nav-calendar">\r\n    <li class="active"><a id="calendar-tab-btn" href="#calendar-tab" data-toggle="tab">'+k((b=a&&a.RESOURCES,b=null==b||b===!1?b:b.CALENDAR,typeof b===j?b.apply(a):b))+'</a></li>\r\n    <li><a id="event-tab-btn" href="#events-tab" data-toggle="tab">'+k((b=a&&a.RESOURCES,b=null==b||b===!1?b:b.EVENT_LIST,typeof b===j?b.apply(a):b))+'</a></li>\r\n</ul>\r\n\r\n<div class="tab-content">\r\n    <div class="tab-pane active" id="calendar-tab">\r\n        <div class="calendar-container"></div>\r\n    </div>\r\n    <div class="tab-pane" id="events-tab">\r\n        <div class="event-container"></div>\r\n    </div>\r\n</div>\r\n\r\n'}function g(){return'\r\n<div class="calendar-container"></div>\r\n<hr />\r\n<div class="event-container"></div>\r\n'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="",j="function",k=this.escapeExpression,l=this;return i+='<div class="calendar-alertarea"></div>\r\n<div class="calendar-panel calendar-panel-top"></div>\r\n',h=c["if"].call(b,(h=b&&b.CONFIG,null==h||h===!1?h:h.tabbedEventList),{hash:{},inverse:l.program(3,g,e),fn:l.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+='\r\n\r\n<div class="calendar-panel calendar-panel-bottom"></div>\r\n\r\n<div class="calendar-loader"></div> '}),this.CalendarTemplates.eventList=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c="";return c+="\r\n                <th>\r\n                    "+s((b=a&&a.RESOURCES,b=null==b||b===!1?b:b.ID,typeof b===r?b.apply(a):b))+"\r\n                </th>\r\n                "}function g(a){var b,c="";return c+="\r\n                <th>\r\n                    ",b=a&&a.RESOURCES,b=null==b||b===!1?b:b.HEADER_PERSON_NAME,b=typeof b===r?b.apply(a):b,(b||0===b)&&(c+=b),c+="\r\n                </th>\r\n                "}function h(a){var b,c="";return c+="\r\n                <th>\r\n                    "+s((b=a&&a.RESOURCES,b=null==b||b===!1?b:b.ACTIONS,typeof b===r?b.apply(a):b))+"\r\n                </th>\r\n                "}function i(){return"\r\n                <th></th>\r\n                <th></th>\r\n                "}function j(a,b,d){var e,f,g,h="";return h+='\r\n            <tr class="',e=c["if"].call(a,a&&a.unsaved,{hash:{},inverse:t.noop,fn:t.program(10,k,b),data:b}),(e||0===e)&&(h+=e),h+='" >\r\n                <td>\r\n                    <div style="background-color: ',(f=c.color)?e=f.call(a,{hash:{},data:b}):(f=a&&a.color,e=typeof f===r?f.call(a,{hash:{},data:b}):f),h+=s(e)+'; width:18px; height:18px;"></div>\r\n                </td>\r\n                ',e=c["if"].call(a,(e=a&&a.CONFIG,null==e||e===!1?e:e.showId),{hash:{},inverse:t.noop,fn:t.program(12,l,b),data:b}),(e||0===e)&&(h+=e),h+="\r\n                <td>\r\n                    "+s((f=c.formatDate||a&&a.formatDate,g={hash:{},data:b},f?f.call(a,a&&a.year,a&&a.month,a&&a.day,g):u.call(a,"formatDate",a&&a.year,a&&a.month,a&&a.day,g)))+"\r\n                </td>\r\n                <td>\r\n                    "+s((f=c.formatTime||a&&a.formatTime,g={hash:{},data:b},f?f.call(a,a&&a.timeFrom,g):u.call(a,"formatTime",a&&a.timeFrom,g)))+" - "+s((f=c.formatTime||a&&a.formatTime,g={hash:{},data:b},f?f.call(a,a&&a.timeTo,g):u.call(a,"formatTime",a&&a.timeTo,g)))+"\r\n                </td>                \r\n                ",e=c.unless.call(a,(e=d&&d.CONFIG,null==e||e===!1?e:e.hideAttendee),{hash:{},inverse:t.noop,fn:t.program(14,m,b),data:b}),(e||0===e)&&(h+=e),h+="\r\n                <td>\r\n                    "+s((e=a&&a.eventName,typeof e===r?e.apply(a):e))+"\r\n                </td>\r\n                ",e=c["if"].call(a,(e=d&&d.CONFIG,null==e||e===!1?e:e.useIcons),{hash:{},inverse:t.program(18,o,b),fn:t.program(16,n,b),data:b}),(e||0===e)&&(h+=e),h+="\r\n            </tr>\r\n            "}function k(){return"warning"}function l(a){var b,c="";return c+="\r\n                <td>\r\n                    "+s((b=a&&a.eventId,typeof b===r?b.apply(a):b))+"\r\n                </td>\r\n                "}function m(a){var b,c="";return c+="\r\n                <td>\r\n                    "+s((b=a&&a.personName,typeof b===r?b.apply(a):b))+"\r\n                </td>            \r\n                "}function n(a){var b,c="";return c+='\r\n                <td>\r\n                    <a href="#" class="edit-event2" data-eventid="'+s((b=a&&a.eventId,typeof b===r?b.apply(a):b))+'"><span class="glyphicon glyphicon-pencil"></span></a>\r\n                    <a href="#" class="remove-event2" data-eventid="'+s((b=a&&a.eventId,typeof b===r?b.apply(a):b))+'"><span class="glyphicon glyphicon-remove"></span></a>\r\n                </td>\r\n                '}function o(a){var b,c="";return c+='\r\n                <td>\r\n                    <a href="#" class="edit-event2" data-eventid="'+s((b=a&&a.eventId,typeof b===r?b.apply(a):b))+'">'+s((b=a&&a.RESOURCES,b=null==b||b===!1?b:b.EDIT,typeof b===r?b.apply(a):b))+'</a>\r\n                </td>\r\n                <td>\r\n                    <a href="#" class="remove-event2" data-eventid="'+s((b=a&&a.eventId,typeof b===r?b.apply(a):b))+'">'+s((b=a&&a.RESOURCES,b=null==b||b===!1?b:b.REMOVE,typeof b===r?b.apply(a):b))+"</a>\r\n                </td>\r\n                "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var p,q="",r="function",s=this.escapeExpression,t=this,u=c.helperMissing;return q+='<div class="event-list">\r\n    <h3>'+s((p=b&&b.RESOURCES,p=null==p||p===!1?p:p.EVENT_LIST,typeof p===r?p.apply(b):p))+'</h3>\r\n    <table class="table  table-hover table-striped table-responsive">\r\n        <thead>\r\n            <tr>\r\n                <th>#</th>\r\n                ',p=c["if"].call(b,(p=b&&b.CONFIG,null==p||p===!1?p:p.showId),{hash:{},inverse:t.noop,fn:t.program(1,f,e),data:e}),(p||0===p)&&(q+=p),q+="\r\n                <th>\r\n                    "+s((p=b&&b.RESOURCES,p=null==p||p===!1?p:p.DATE,typeof p===r?p.apply(b):p))+"\r\n                </th>\r\n                <th>\r\n                    "+s((p=b&&b.RESOURCES,p=null==p||p===!1?p:p.TIME,typeof p===r?p.apply(b):p))+"\r\n                </th>\r\n                ",p=c.unless.call(b,(p=b&&b.CONFIG,null==p||p===!1?p:p.hideAttendee),{hash:{},inverse:t.noop,fn:t.program(3,g,e),data:e}),(p||0===p)&&(q+=p),q+="\r\n                <th>\r\n                    ",p=b&&b.RESOURCES,p=null==p||p===!1?p:p.HEADER_EVENT_NAME,p=typeof p===r?p.apply(b):p,(p||0===p)&&(q+=p),q+="\r\n                </th>\r\n                ",p=c["if"].call(b,(p=b&&b.CONFIG,null==p||p===!1?p:p.useIcons),{hash:{},inverse:t.program(7,i,e),fn:t.program(5,h,e),data:e}),(p||0===p)&&(q+=p),q+="\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            ",p=c.each.call(b,b&&b.events,{hash:{},inverse:t.noop,fn:t.programWithDepth(9,j,e,b),data:e}),(p||0===p)&&(q+=p),q+="\r\n        </tbody>\r\n    </table>\r\n</div>"}),this.CalendarTemplates.eventModal=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+='\r\n                <div class="row row-mar">\r\n                    <div class="col-md-5 col-lg-5">\r\n                        <b>'+n((d=a&&a.RESOURCES,d=null==d||d===!1?d:d.PERSON_NAME,typeof d===m?d.apply(a):d))+':</b>\r\n                    </div>\r\n                    <div class="col-md-7 col-lg-7">\r\n                        ',d=c["if"].call(a,(d=a&&a.CONFIG,null==d||d===!1?d:d.enable_dropdown),{hash:{},inverse:l.program(4,h,b),fn:l.program(2,g,b),data:b}),(d||0===d)&&(e+=d),e+="\r\n                    </div>\r\n                </div>\r\n                "}function g(a,b){var e,f="";return f+="\r\n                            ",e=l.invokePartial(d.selectPartial,"selectPartial",a,c,d,b),(e||0===e)&&(f+=e),f+="\r\n                        "}function h(){return'\r\n                            <input class="personId form-control"> \r\n                        '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var i,j,k="",l=this,m="function",n=this.escapeExpression;return k+='<div id="calendarEventModal" class="modal fade">\r\n    <div class="modal-dialog">\r\n        <div class="modal-content">\r\n            <div class="modal-header">\r\n                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">'+n((i=b&&b.RESOURCES,i=null==i||i===!1?i:i.CLOSE,typeof i===m?i.apply(b):i))+'</span></button>\r\n                <h4 class="modal-title">'+n((i=b&&b.RESOURCES,i=null==i||i===!1?i:i.MODAL_TITLE,typeof i===m?i.apply(b):i))+' <span class="modalTitleDate"></span></h4>\r\n            </div>\r\n            <div class="modal-body">\r\n                <p>'+n((i=b&&b.RESOURCES,i=null==i||i===!1?i:i.MODAL_BODY,typeof i===m?i.apply(b):i))+"</p>\r\n\r\n                ",i=c.unless.call(b,(i=b&&b.CONFIG,null==i||i===!1?i:i.hideAttendee),{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(i||0===i)&&(k+=i),k+='\r\n\r\n                <div class="row row-mar">\r\n                    <div class="col-md-5 col-lg-5">\r\n                        <b>'+n((i=b&&b.RESOURCES,i=null==i||i===!1?i:i.EVENT_NAME,typeof i===m?i.apply(b):i))+':</b>\r\n                    </div>  \r\n                    <div class="col-md-7 col-lg-7">\r\n                        <textarea maxlength="500" rows="4" class="eventName form-control" />\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="row row-mar">\r\n                    <div class="col-md-5 col-lg-5">\r\n                        <b>\r\n                            '+n((i=b&&b.RESOURCES,i=null==i||i===!1?i:i.TIME_FROM,typeof i===m?i.apply(b):i))+':\r\n                        </b>    \r\n                    </div>\r\n                    <div class="col-md-7 col-lg-7">\r\n                        <input type="range" class="timeFrom" name="timeFrom"  min="0" max="',(j=c.timeMaxValue)?i=j.call(b,{hash:{},data:e}):(j=b&&b.timeMaxValue,i=typeof j===m?j.call(b,{hash:{},data:e}):j),k+=n(i)+'" value="',(j=c.timeFromDefault)?i=j.call(b,{hash:{},data:e}):(j=b&&b.timeFromDefault,i=typeof j===m?j.call(b,{hash:{},data:e}):j),k+=n(i)+'">\r\n                        <div class="timeFrom-output"></div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="row row-mar">\r\n                    <div class="col-md-5 col-lg-5">\r\n                        <b>\r\n                            '+n((i=b&&b.RESOURCES,i=null==i||i===!1?i:i.TIME_TO,typeof i===m?i.apply(b):i))+':\r\n                        </b>\r\n                    </div>\r\n\r\n                    <div class="col-md-7 col-lg-7">\r\n                        <input type="range" class="timeTo" name="timeTo" min="0" max="',(j=c.timeMaxValue)?i=j.call(b,{hash:{},data:e}):(j=b&&b.timeMaxValue,i=typeof j===m?j.call(b,{hash:{},data:e}):j),k+=n(i)+'" value="',(j=c.timeToDefault)?i=j.call(b,{hash:{},data:e}):(j=b&&b.timeToDefault,i=typeof j===m?j.call(b,{hash:{},data:e}):j),k+=n(i)+'">\r\n                        <div class="timeTo-output"></div>\r\n                    </div>\r\n                </div>\r\n\r\n                <input type="hidden" class="eventId" />\r\n                <input type="hidden" class="eventDay" />\r\n\r\n                <div style="clear:both"></div>\r\n            </div>\r\n            <div class="modal-footer">\r\n                <button type="button" class="btn btn-primary add-event">'+n((i=b&&b.RESOURCES,i=null==i||i===!1?i:i.ADD,typeof i===m?i.apply(b):i))+'</button>\r\n                <button type="button" class="btn btn-primary edit-event">'+n((i=b&&b.RESOURCES,i=null==i||i===!1?i:i.EDIT,typeof i===m?i.apply(b):i))+'</button>\r\n                <button type="button" class="btn btn-default" data-dismiss="modal">'+n((i=b&&b.RESOURCES,i=null==i||i===!1?i:i.CLOSE,typeof i===m?i.apply(b):i))+"</button>\r\n            </div>\r\n        </div><!-- /.modal-content -->\r\n    </div><!-- /.modal-dialog -->\r\n</div><!-- /.modal -->\r\n"}),this.CalendarTemplates.navpanel=Handlebars.template(function(a,b,c,d,e){function f(){return'<span class="glyphicon glyphicon-plus"></span>'}function g(){return'<span class="glyphicon glyphicon-pencil"></span>'}function h(){return'<span class="glyphicon glyphicon-remove"></span>'}function i(a){var b,c="";return c+='\r\n        <button class="btn btn-primary save-events" style="margin-right:10px;">'+o((b=a&&a.RESOURCES,b=null==b||b===!1?b:b.SAVE_EVENTS,typeof b===n?b.apply(a):b))+'</button>\r\n        <label for="event-autosave">'+o((b=a&&a.RESOURCES,b=null==b||b===!1?b:b.AUTOSAVE,typeof b===n?b.apply(a):b))+'</label>\r\n        <input type="checkbox" id="event-autosave" class="event-autosave" />\r\n        '}function j(a,b){var d,e,f="";return f+='\r\n        <button type="button" class="btn btn-nav btn-default prev-year btn-lg" title="'+o((d=a&&a.RESOURCES,d=null==d||d===!1?d:d.PREVIOUS_YEAR,typeof d===n?d.apply(a):d))+'"><<</button>\r\n        <button type="button" class="btn btn-nav btn-default prev-month btn-lg" title="'+o((d=a&&a.RESOURCES,d=null==d||d===!1?d:d.PREVIOUS_MONTH,typeof d===n?d.apply(a):d))+'"><</button>\r\n\r\n        <h2 style="display:inline-block; padding: 0 0; margin: 0 0;">\r\n            <span class="label label-primary label-lg currentYearMonth">',(e=c.currentYearMonth)?d=e.call(a,{hash:{},data:b}):(e=a&&a.currentYearMonth,d=typeof e===n?e.call(a,{hash:{},data:b}):e),f+=o(d)+'</span>\r\n        </h2>\r\n\r\n        <button type="button" class="btn btn-nav btn-default next-month btn-lg" title="'+o((d=a&&a.RESOURCES,d=null==d||d===!1?d:d.NEXT_MONTH,typeof d===n?d.apply(a):d))+'">></button>\r\n        <button type="button" class="btn btn-nav btn-default next-year btn-lg" title="'+o((d=a&&a.RESOURCES,d=null==d||d===!1?d:d.NEXT_YEAR,typeof d===n?d.apply(a):d))+'">>></button>\r\n        '}function k(a,b){var d,e,f="";return f+='\r\n        <ul class="pagination pagination">\r\n            <li><a class="prev-year" title="'+o((d=a&&a.RESOURCES,d=null==d||d===!1?d:d.PREVIOUS_YEAR,typeof d===n?d.apply(a):d))+'"><span class="glyphicon glyphicon-fast-backward"></span></a></li>\r\n            <li><a class="prev-month" title="'+o((d=a&&a.RESOURCES,d=null==d||d===!1?d:d.PREVIOUS_MONTH,typeof d===n?d.apply(a):d))+'"><span class="glyphicon glyphicon-backward"></span></a></li>\r\n            <li class="disabled"><span class="label label-date label-default currentYearMonth">',(e=c.currentYearMonth)?d=e.call(a,{hash:{},data:b}):(e=a&&a.currentYearMonth,d=typeof e===n?e.call(a,{hash:{},data:b}):e),f+=o(d)+'</span></li>\r\n            <li><a class="next-month" title="'+o((d=a&&a.RESOURCES,d=null==d||d===!1?d:d.NEXT_MONTH,typeof d===n?d.apply(a):d))+'"><span class="glyphicon glyphicon-forward"></span></a></li>\r\n            <li><a class="next-year" title="'+o((d=a&&a.RESOURCES,d=null==d||d===!1?d:d.NEXT_YEAR,typeof d===n?d.apply(a):d))+'"><span class="glyphicon glyphicon-fast-forward"></span></a></li>\r\n        </ul>\r\n        '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var l,m="",n="function",o=this.escapeExpression,p=this;return m+='<div class="calendar-panel calendar-nav-panel ">\r\n    <div class="pull-left calendar-buttons">\r\n        <button type="button" class="btn btn-primary disabled panel-add-event">',l=c["if"].call(b,b&&b.useIcons,{hash:{},inverse:p.noop,fn:p.program(1,f,e),data:e}),(l||0===l)&&(m+=l),m+=o((l=b&&b.RESOURCES,l=null==l||l===!1?l:l.ADD_EVENT,typeof l===n?l.apply(b):l))+'</button>\r\n        <button type="button" class="btn btn-primary disabled panel-edit-event">',l=c["if"].call(b,b&&b.useIcons,{hash:{},inverse:p.noop,fn:p.program(3,g,e),data:e}),(l||0===l)&&(m+=l),m+=o((l=b&&b.RESOURCES,l=null==l||l===!1?l:l.EDIT_EVENT,typeof l===n?l.apply(b):l))+'</button>\r\n        <button type="button" class="btn btn-primary disabled panel-remove-event">',l=c["if"].call(b,b&&b.useIcons,{hash:{},inverse:p.noop,fn:p.program(5,h,e),data:e}),(l||0===l)&&(m+=l),m+=o((l=b&&b.RESOURCES,l=null==l||l===!1?l:l.REMOVE_EVENT,typeof l===n?l.apply(b):l))+"</button>\r\n\r\n        ",l=c.unless.call(b,(l=b&&b.CONFIG,null==l||l===!1?l:l.autosave),{hash:{},inverse:p.noop,fn:p.program(7,i,e),data:e}),(l||0===l)&&(m+=l),m+='\r\n    </div>\r\n    <div class="pull-right calendar-navigation">\r\n        ',l=c["if"].call(b,(l=b&&b.CONFIG,null==l||l===!1?l:l.navAltVersion),{hash:{},inverse:p.program(11,k,e),fn:p.program(9,j,e),data:e}),(l||0===l)&&(m+=l),m+='\r\n    </div>\r\n\r\n    <div style="clear:both;"></div>\r\n</div>\r\n'}),this.CalendarTemplates.selectPartial=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\r\n        <option value="',(e=c.personId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.personId,d=typeof e===i?e.call(a,{hash:{},data:b}):e),f+=j(d)+'">',(e=c.personName)?d=e.call(a,{hash:{},data:b}):(e=a&&a.personName,d=typeof e===i?e.call(a,{hash:{},data:b}):e),f+=j(d)+"</option>\r\n    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h="",i="function",j=this.escapeExpression,k=this;return h+='<select class="personId form-control">\r\n    ',g=c.each.call(b,b&&b.people,{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(g||0===g)&&(h+=g),h+="\r\n</select>"}),function(a){var b=function(b){var c={CALENDAR:"Calendar",MODAL_TITLE_ADD:"Adding event for date",MODAL_TITLE_EDIT:"Editing event for date",MODAL_BODY:"Please enter attendee's and event's name:",PERSON_NAME:"Attendee",EVENT_NAME:"Event",ADD_EVENT:"Add event",EDIT_EVENT:"Edit event",REMOVE_EVENT:"Remove event",CLOSE:"Close",ADD:"Add",EDIT:"Edit",PREVIOUS_YEAR:"Previous year",AUTOSAVE:"Autosave",NEXT_YEAR:"Next year",PREVIOUS_MONTH:"Previous month",NEXT_MONTH:"Next month",SAVE_EVENTS:"Save events",CLEAR_EVENTS:"Clear events",REMOVE:"Remove",TIME_FROM:"Time from",TIME_TO:"Time to",DATE:"Date",TIME:"Time",ACTIONS:"Actions",HEADER_EVENT_NAME:"Event name",HEADER_PERSON_NAME:"Person name",ID:"Id",EVENT_LIST:"Event list",EVENTS_SAVED:"Events saved",EVENT_SAVE_ERROR:"There was an error while trying to save events"},d=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],e={1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},f=null,g=!1,h="localStorage",i=void 0,j=null,k=null,l=!0,m=void 0,n="top",o="",p="#calendarEventModal",q=void 0,r={hideAttendee:!1,useIcons:!0,showId:!1,autosave:!1,navAltVersion:!1,enable_dropdown:!0,tabbedEventList:!1,useNameInSelect:!1,showEventList:!0},s=!1,t=function(){return void 0!=localStorage?(this.saveAllEvents=function(){if(z instanceof Object){for(var a=[],b=0;b<z.length;b++){var c=z[b],d={};jQuery.extend(d,c),d.container=void 0,a.push(d)}var e=JSON.stringify(a);localStorage.setItem("events",e)}else localStorage.removeItem("events")},this.readAllEvents=function(){var a=localStorage.getItem("events");try{if(void 0==a||null==a)throw new Error("temp is undefined");for(var b=JSON.parse(a),c=0;c<b.length;c++){var d=b[c];Z(d,!1)}}catch(e){z=new v}},this.clearAllEvents=function(){z=new v,localStorage.removeItem("events")},this):void 0},u=function(){var a="ready";$(".calendar-loader").hide();var b=function(b){switch(a=b,b){case"load":$(".calendar-loader").fadeIn(250);break;case"idle":case"ready":$(".calendar-loader").fadeOut(500)}};this.urls={getAllEvents:""},this.setUrls=function(a){this.urls=a},this.getUrls=function(){return this.urls};var d=function(a){for(var b=0;b<a.length;b++){var c=a[b];c.unsaved=!1}};return this.saveData=function(){var a={eventsToAdd:w,eventsToRemove:x,eventsToEdit:y},e=JSON.stringify(a);b("load"),$.ajax({type:"POST",url:this.urls.saveData,contentType:"application/json",data:e,success:function(){r.autosave||lb(c.EVENTS_SAVED,"success"),d(y),d(w),cb(!1),kb()},error:function(){lb(c.EVENT_SAVE_ERROR,"danger")},complete:function(){b("idle")}})},this.saveAllEvents=function(){this.saveData()},this.readAllPeople=function(a){void 0==a&&(a=!1),void 0!=this.urls.getPeople&&(b("load"),$.ajax({type:"GET",url:this.urls.getPeople,success:function(a){ob(a)},complete:function(){b("idle")}}))},this.readAllEvents=function(a,c){void 0==a&&(a=!1),b("load"),$.ajax({type:"GET",url:this.urls.getEvents,success:function(b){if(void 0!=b&&null!=b)for(var d=0;d<b.length;d++){var e=b[d];e.month-=1,Z(e,!1)}a&&void 0!=c&&c(),hb()},error:function(a){console.log(a)},complete:function(){b("idle")}})},this.clearAllEvents=function(){console.log("This function is not supported")},this},v=function(){return new Array},w=[],x=[],y=[],z=[],A=[];Array.prototype.contains=function(a){return-1!=this.indexOf(a)?!0:!1};var B=function(a,b,c){var d=b+1;return 10>d&&(d="0"+d),void 0!=c?(10>c&&(c="0"+c),a+"-"+d+"-"+c):void 0!=a&&void 0!=b?a+" - "+d:""},C=function(a,b){return E(b,!0)+" "+a},D=function(a){return a.length>20?a.substring(0,18)+"...":a},E=function(a,b){b&&a++;var c=String(a);return e[c]},F=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],G=function(){for(var a="#",b=0;6>b;b++){var c=Math.round(Math.random()*(F.length-1));a+=F[c]}return a},H=function(a,b,c){return b+=1,10>b&&(b="0"+b),10>c&&(c="0"+c),a+"-"+b+"-"+c},I=function(){m=CalendarTemplates,Handlebars.registerPartial("selectPartial",m.selectPartial),Handlebars.registerHelper("formatDate",B),Handlebars.registerHelper("formatEventName",D),Handlebars.registerHelper("formatTime",V),Handlebars.registerHelper("computeTextColorClass",J)},J=function(a){try{var b=function(a){if(1!=a.length)return 0;switch(a){case"A":return 10;case"B":return 11;case"C":return 12;case"D":return 13;case"E":return 14;case"F":return 15;default:return parseInt(a)}},c=16*b(a[1])+1*b(a[2]),d=16*b(a[3])+1*b(a[4]),e=16*b(a[5])+1*b(a[6]),f=c+d+e;return 450>f?"light":"dark"}catch(g){return"dark"}},K=function(){I();var c=b,d="Calendar cannot be initialized. Dependency required: ";if(void 0==a.Handlebars)throw new Error(d+"Handlebars.js");if(void 0==a.jQuery)throw new Error(d+"jQuery.js");var e=!1;if("string"==typeof c)f=c;else{if("object"!=typeof c)throw new Error("Invalid options");if(f=c.selector,void 0!=c.debug&&(g=c.debug),void 0!=c.sync){var m={};if("string"==typeof c.sync?h=c.sync:"object"==typeof c.sync&&(void 0!=c.sync.type&&(h=c.sync.type),m.getEvents=c.sync.getEvents,m.saveData=c.sync.saveData,m.getPeople=c.sync.getPeople),"localStorage"!=h&&"remote"!=h)throw new Error("Invalid sync type");switch(h){case"localStorage":i=new t;break;case"remote":i=new u,i.setUrls(m),i.readAllPeople(),e=!0;break;default:i=void 0}void 0!=i.readAllEvents&&i.readAllEvents(e)}void 0!=c.resources&&"object"==typeof c.resourceList&&pb(c.resources,!1),"object"==typeof c.usePerson&&(q=c.usePerson,r.hideAttendee=!0),void 0!=c.showEventList&&(1==c.showEventList||0==c.showEventList)&&(r.showEventList=c.showEventList);var o=function(a){return(void 0==a||"boolean"!=typeof a)&&(a=!1),a};r.autosave=o(c.autosave),r.navAltVersion=o(c.navAltVersion),r.tabbedEventList=o(c.tabbedEventList),r.useNameInSelect=o(c.useNameInSelect)}if(void 0==f||null==f)throw new Error("Invalid selector");if(void 0==c.year||void 0==c.month&&"number"!=typeof c.year||"number"!=typeof c.month){var p=new Date;j=p.getFullYear(),k=p.getMonth()}else gb(c.year,c.month);void 0==c.panel||"bottom"!=c.panel&&"top"!=c.panel||(n=c.panel),L(),M(),W(),N(n),R(),T(),void 0!=c.render&&(l=c.render),l&&hb()},L=function(){var a={RESOURCES:c,CONFIG:r},b=m.calendarContainer(a);$(f).append(b),o=".calendar-container"},M=function(){var a={RESOURCES:c,people:A,CONFIG:r};a.add=!0,a.timeFromDefault=10*U,a.timeToDefault=11*U,a.timeMaxValue=24*U;var b=m.eventModal(a);$("body").append(b)},N=function(a){var b=C(j,k),d={currentYearMonth:b,CONFIG:r,RESOURCES:c},e=m.navpanel(d);"bottom"==a?$(f+" .calendar-panel-bottom").html(e):$(f+" .calendar-panel-top").html(e),void 0!=$.fn.tooltip&&(r.navAltVersion?$(f+" .calendar-navigation button.btn-nav").tooltip():$(f+" .calendar-navigation .pagination a").tooltip())},O=function(){if(r.autosave)return!0;var a=$(".calendar-panel .event-autosave");return void 0!=a&&a.length>0?a[0].checked:!1},P=function(a,b){var c=B(b.year,b.month,b.day);a.find(".modalTitleDate").html(c),a.find(".eventDay").val(b.day),a.find(".eventId").val(b.eventId),a.find(".eventName").val(b.eventName);var d=a.find("select.personId");d.val(b.personId);var e=a.find("input.personId");void 0!=e&&e.val(b.personName);var f=a.find(".timeFrom");f.val(b.timeFrom),f.trigger("change");var g=a.find(".timeTo");g.val(b.timeTo),g.trigger("change");var h=a.find(".eventName");h.attr("value",b.eventName)},Q=function(a,b){var c=a.find(".add-event"),d=a.find(".edit-event");c.hide(),d.hide(),"edit"==b?d.show():c.show()},R=function(){r.tabbedEventList&&($(f+" #event-tab-btn").click(function(){var a=$(f+" .calendar-navigation");a.css("visibility","hidden")}),$(f+" #calendar-tab-btn").click(function(){var a=$(f+" .calendar-navigation");a.css("visibility","visible")}));var a=".calendar-panel ",b=function(){s?hb():hb("calendar","label")};$(a+".prev-month").click(function(){k--,0>k&&(k=11,j--),b()}),$(a+".next-month").click(function(){k++,k>11&&(k=0,j++),b()});var c=function(a){j+=a,b()};$(a+".prev-year").click(function(){c(-1)}),$(a+".next-year").click(function(){c(1)});var d=function(a,b){return parseInt(a)>parseInt(b)?!1:!0},e=function(a){var b=a.find(".personId"),c=a.find(".eventName");void 0!=b&&b.val(""),c.val(""),c.removeClass("input-validation-error")},g=function(a){var b,c,f=$(p),g=f.find("select.personId"),h=f.find(".eventName");r.hideAttendee?(b=q.personId,c=q.personName):(b=g.val(),c=f.find(".personId option:selected").text());var i=f.find(".timeFrom"),l=f.find(".timeTo"),m=h.val();if(void 0==b||""==b)return!1;if(void 0==m||""==m)return h.addClass("input-validation-error"),!1;var n=i.val(),o=l.val();return d(n,o)&&(X(j,k,a,b,c,m,void 0,n,o),hb(),e(f)),!0},h=function(a,b){var c,f;r.hideAttendee?(c=q.personId,f=q.personName):(c=a.find("select.personId").val(),f=a.find("select.personId option:selected").text());var g=a.find(".eventId").val(),h=a.find(".eventName").val();if(void 0==c||""==c)return!1;if(void 0==b||""==String(b).trim())return eventInput.addClass("input-validation-error"),!1;var i=a.find(".timeFrom").val(),j=a.find(".timeTo").val();return d(i,j)?(b.eventId=g,b.personId=c,b.personName=f,b.timeFrom=i,b.timeTo=j,b.eventName=h,b.unsaved=!0,y.push(b),O()&&bb(),e(a),!0):!1};$(f).on("click",".panel-add-event",function(){l()});var l=function(a){var b=$(p);if(e(b),void 0==a?a=$(f).find(".week-day-div.selected"):a.addClass("selected"),a.length>0){var c=$(a).parent().data("day"),d=B(j,k,c),g=b.find(".modalTitleDate");g.html(d);var h=b.find(".eventDay");h.val(c),Q(b,"add"),b.modal("show")}},m=function(a){var b=$(p);if(void 0==a?a=$(f).find(".event.selected"):a.addClass("selected"),a.length>0){var c=($(a).data("day"),$(a).data("eventid")),d=_(c);null!=d&&(P(b,d),Q(b,"edit"),b.modal("show"))}};$(f).on("click",".panel-edit-event",function(){m()}),$(f).on("click",".panel-remove-event",function(){var a=$(f).find(".event.selected");if(a.length>0){var b=($(a).data("day"),$(a).data("eventid"));void 0!=b&&(ab(b),hb(),S("none"))}}),$(f).on("click",".week-day-div",function(){var a=$(this).hasClass("selected");a?S("none"):(S("add"),$(this).addClass("selected"))}),$(f).on("click",".event",function(a){a.stopPropagation();var b=$(this).hasClass("selected");b?S("none"):(S("edit"),$(this).addClass("selected"))}),$(f).on("dblclick",".event",function(){m($(this))}),$(p+" .add-event").click(function(){var a=$(p+" .eventDay").val(),b=g(a);if(b){var c=$(p);c.modal("hide"),S("none")}}),$(p+" .edit-event").click(function(){var a=$(p),b=a.find(".eventId").val(),c=_(b);if(null!=c){var d=h(a,c);d&&(a.modal("hide"),S("none"),hb())}}),$(a+".save-events").click(function(){bb()}),$(a+".clear-events").click(function(){cb(!0),hb()}),$(a+".reload-events").click(function(){cb(!0),i.readAll(!0,function(){hb()})}),$(a+".load-people").click(function(){void 0!=i.readAllPeople&&i.readAllPeople(!0)})},S=function(a){var b=$(f+" .btn.panel-add-event"),c=$(f+" .btn.panel-edit-event"),d=$(f+" .btn.panel-remove-event"),e="disabled";
b.addClass(e),c.addClass(e),d.addClass(e),$(f+" .event").removeClass("selected"),$(f+" .week-day-div").removeClass("selected"),"add"==a?b.removeClass(e):"edit"==a&&(c.removeClass(e),d.removeClass(e))},T=function(){$(".event-container").on("click",".edit-event2",function(){var a=$(this).data("eventid"),b=_(a),c=$("#calendarEventModal");return null!=b&&(P(c,b),Q(c,"edit"),c.modal("show")),!1}),$(".event-container").on("click",".remove-event2",function(){var a=$(this).data("eventid");return void 0!=a&&(ab(a),hb(),S("none")),!1})},U=4,V=function(a){var b=Math.floor(a/U);10>b&&(b="0"+b);var c=Math.floor(a%U*15);return 10>c&&(c="0"+c),b+":"+c},W=function(){var a=p+" .timeFrom",b=p+" .timeTo",c=$(a),d=$(b);$(c).change(function(){var a=$(p+" .timeFrom-output"),b=$(this).val();a.html(V(b))}),$(d).change(function(){var a=$(p+" .timeTo-output"),b=$(this).val();a.html(V(b))}),$(c,d).keydown(function(){$(this).trigger("change")}),$(c).trigger("change"),$(d).trigger("change")},X=function(a,b,c,d,e,f,g,h,i,j){void 0==g&&(g=G()),void 0==j&&(j="t_"+(new Date).getTime());var k={eventId:j,personId:d,personName:e,eventName:f,color:g,unsaved:!0,year:a,month:b,day:c,timeFrom:h,timeTo:i};Z(k,!0),O()&&bb()},Y=function(a,b){return void 0==b||null==b||"boolean"!=typeof b?a:b},Z=function(a,b,c){b=Y(!1,b),c=Y(!0,c),"object"==typeof a&&(b&&(a.unsaved=!0,w.push(a)),c?z.unshift(a):z.push(a))},_=function(a){for(var b=0;b<z.length;b++){var c=z[b];if(c.eventId==a)return c}return null},ab=function(a){for(var b=null,c=0;c<z.length;c++)if(z[c].eventId==a){b=z[c];break}if(null!=b){var d=z.indexOf(b);-1!=d&&(x.push(b),z.splice(d,1))}O()&&bb()},bb=function(){void 0!=i&&i.saveAllEvents()},cb=function(a){void 0==a&&(a=!0),a&&(z=new v),w=new v,x=new v,y=new v},db=function(a,b,c){for(var d=[],e=0;e<z.length;e++){var f=z[e];f.year==a&&f.month==b&&f.day==c&&d.push(f)}return d},eb=function(a,b){for(var c=[],d=0;d<z.length;d++){var e=z[d];e.year==a&&e.month==b&&c.push(e)}return c},fb=function(a,b){var c=new Date,d=c.getFullYear(),e=c.getMonth(),f=c.getDate(),g=new Date(a,b),h=(g.getMonth(),[]),i={days:[]},j=0,k=function(a){j++,i.days.push(a)},l=function(){h.push(i),i={days:[]}},m=new Date(g);m.setDate(m.getDate()-1);for(var n=m.getDay(),o=0;n>o;o++)k({});var p=g.getDate();do{j%7==0&&l(i);var q={date_string:H(a,b,p),bg_color:"#DEDEDE",dayValue:p};a==d&&b==e&&p==f&&(q.current=!0);var r=db(a,b,p);q.events=r,k(q),p++,g=new Date(a,b,p),p=g.getDate()}while(p>1);return i.days.length>0&&l(i),h},gb=function(a,b){j=a,k=b},hb=function(a){var b=new Array;if(0==arguments.length)b=["calendar","events","label"];else for(var c=0;c<arguments.length;c++)b.push(arguments[c]);-1!=b.indexOf("label")&&ib(),b.indexOf("calendar")-1&&jb(),-1!=b.indexOf("events")&&kb(),void 0!=a&&"function"==typeof a&&a()},ib=function(){var a=C(j,k);$(".calendar-panel .currentYearMonth").html(a)},jb=function(){var a=$(o),b=j;b+=9>k?" 0"+(k+1):" "+(k+1);var c=fb(j,k),e={weekdays:d,weeks:c,CONFIG:r},f=m.calendar(e);a.html(f)},kb=function(){if(r.showEventList){var a=null;a=s?eb(j,k):z;var b={events:a,RESOURCES:c,CONFIG:r},d=m.eventList(b);$(f+" .event-container").html(a.length>0?d:"")}},lb=function(a,b){void 0==b&&(b="success");var c={alertType:b,alertMessage:a},d=m.alert(c);$(f+" .calendar-alertarea").html(d)},mb=function(a){if(7!=a.length)throw new Error("Array should have 7 elements");d=a},nb=function(a){if(12!=Object.keys(a).length)throw new Error("Object should have 12 elements");e=a},ob=function(a){A=a;var b={people:A},c=m.selectPartial(b);$(p+" .personId").replaceWith(c)},pb=function(a,b){if(void 0!=a&&null!=a&&"object"==typeof a)for(var d in a)c[d]=a[d];b&&hb()};return K(),{render:hb,addEvent:X,removeEvent:ab,getEvents:function(){return z},saveEvents:bb,clearEvents:cb,loadWeekStrings:mb,loadMonthStrings:nb,setPeople:ob}};a.Calendar=b}(window);