this.CalendarTemplates=this.CalendarTemplates||{},this.CalendarTemplates.alert=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div class="alert alert-',(g=c.alertType)?f=g.call(b,{hash:{},data:e}):(g=b&&b.alertType,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+' alert-dismissible" role="alert">\r\n    <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>\r\n    ',(g=c.alertMessage)?f=g.call(b,{hash:{},data:e}):(g=b&&b.alertMessage,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"\r\n</div>"}),this.CalendarTemplates.calendar=Handlebars.template(function(a,b,c,d,e){function f(a){var b="";return b+="\r\n            <th>\r\n                "+o(typeof a===n?a.apply(a):a)+"\r\n            </th>\r\n            "}function g(a,b){var d,e="";return e+='\r\n    <tr class="week">\r\n        ',d=c.each.call(a,a&&a.days,{hash:{},inverse:p.noop,fn:p.program(4,h,b),data:b}),(d||0===d)&&(e+=d),e+="\r\n    </tr>\r\n    "}function h(a,b){var d,e,f="";return f+='\r\n        <td class="',d=c["if"].call(a,a&&a.date_string,{hash:{},inverse:p.noop,fn:p.program(5,i,b),data:b}),(d||0===d)&&(f+=d),f+='" data-day="',(e=c.dayValue)?d=e.call(a,{hash:{},data:b}):(e=a&&a.dayValue,d=typeof e===n?e.call(a,{hash:{},data:b}):e),f+=o(d)+'">\r\n            <div class="week-day-div ',d=c["if"].call(a,a&&a.current,{hash:{},inverse:p.noop,fn:p.program(7,j,b),data:b}),(d||0===d)&&(f+=d),f+='">\r\n                <ul style="list-style:none;">\r\n                    <li><span class="date ">',(e=c.date_string)?d=e.call(a,{hash:{},data:b}):(e=a&&a.date_string,d=typeof e===n?e.call(a,{hash:{},data:b}):e),f+=o(d)+"</span></li>\r\n                    ",d=c.each.call(a,a&&a.events,{hash:{},inverse:p.noop,fn:p.programWithDepth(9,k,b,a),data:b}),(d||0===d)&&(f+=d),f+="\r\n                </ul>\r\n            </div>\r\n        </td>\r\n        "}function i(){return" week-day "}function j(){return" current "}function k(a,b,d){var e,f,g="";return g+='\r\n                    <li>\r\n                        <span class="event" data-day="'+o((e=d&&d.dayValue,typeof e===n?e.apply(a):e))+'" data-eventid="',(f=c.eventId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.eventId,e=typeof f===n?f.call(a,{hash:{},data:b}):f),g+=o(e)+'" style="background-color:'+o((e=a&&a.color,typeof e===n?e.apply(a):e))+'">\r\n                            <span>'+o((e=a&&a.personName,typeof e===n?e.apply(a):e))+" - "+o((e=a&&a.eventName,typeof e===n?e.apply(a):e))+"</span>\r\n                        </span>\r\n                    </li>\r\n                    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var l,m="",n="function",o=this.escapeExpression,p=this;return m+='\r\n<table class="table calendar">\r\n    <thead>\r\n        <tr>\r\n            ',l=c.each.call(b,b&&b.weekdays,{hash:{},inverse:p.noop,fn:p.program(1,f,e),data:e}),(l||0===l)&&(m+=l),m+="\r\n        </tr>\r\n    </thead>\r\n    ",l=c.each.call(b,b&&b.weeks,{hash:{},inverse:p.noop,fn:p.program(3,g,e),data:e}),(l||0===l)&&(m+=l),m+="\r\n\r\n</table>"}),this.CalendarTemplates.calendarContainer=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'\r\n<div class="calendar-alertarea"></div>\r\n<div class="calendar-container"></div>\r\n<div class="event-container"></div>\r\n\r\n<div class="calendar-loader"></div> '}),this.CalendarTemplates.eventModal=Handlebars.template(function(a,b,c,d,e){function f(){return"\r\n                            <span>Select person:</span>\r\n                        "}function g(a){var b,c="";return c+="\r\n                            <span>"+m((b=a&&a.RESOURCES,b=null==b||b===!1?b:b.PERSON_NAME,typeof b===l?b.apply(a):b))+"</span>\r\n                        "}function h(a,b){var e,f="";return f+="\r\n                            ",e=n.invokePartial(d.selectPartial,"selectPartial",a,c,d,b),(e||0===e)&&(f+=e),f+="\r\n                        "}function i(){return'\r\n                            <input class="person form-control">\r\n                        '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var j,k="",l="function",m=this.escapeExpression,n=this;return k+='<div id="calendarEventModal" class="modal fade">\r\n    <div class="modal-dialog">\r\n        <div class="modal-content">\r\n            <div class="modal-header">\r\n                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">'+m((j=b&&b.RESOURCES,j=null==j||j===!1?j:j.CLOSE,typeof j===l?j.apply(b):j))+'</span></button>\r\n                <h4 class="modal-title">'+m((j=b&&b.RESOURCES,j=null==j||j===!1?j:j.MODAL_TITLE,typeof j===l?j.apply(b):j))+' <span class="modalTitleDate"></span></h4>\r\n            </div>\r\n            <div class="modal-body">\r\n                <p>'+m((j=b&&b.RESOURCES,j=null==j||j===!1?j:j.MODAL_BODY,typeof j===l?j.apply(b):j))+'</p>\r\n\r\n                <div class="row row-mar">\r\n                    <div class="col-md-5 col-lg-5">\r\n                        ',j=c["if"].call(b,b&&b.enable_dropdown,{hash:{},inverse:n.program(3,g,e),fn:n.program(1,f,e),data:e}),(j||0===j)&&(k+=j),k+='\r\n                    </div>\r\n                    <div class="col-md-7 col-lg-7">\r\n                        ',j=c["if"].call(b,b&&b.enable_dropdown,{hash:{},inverse:n.program(7,i,e),fn:n.program(5,h,e),data:e}),(j||0===j)&&(k+=j),k+='\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="row row-mar">\r\n                    <div class="col-md-5 col-lg-5">\r\n                        <span>'+m((j=b&&b.RESOURCES,j=null==j||j===!1?j:j.EVENT_NAME,typeof j===l?j.apply(b):j))+':</span>\r\n                    </div>\r\n                    <div class="col-md-7 col-lg-7">\r\n                        <input class="eventName form-control" />\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="row row-mar">\r\n                    <div class="col-md-5 col-lg-5">\r\n                        Time from:\r\n                    </div>\r\n                    <div class="col-md-7 col-lg-7">\r\n                        <input class="timeFrom form-control" />\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="row row-mar">\r\n                    <div class="col-md-5 col-lg-5">\r\n                        Time to:\r\n                    </div>\r\n\r\n                    <div class="col-md-7 col-lg-7">\r\n                        <input class="timeTo form-control" />\r\n                    </div>\r\n                </div>\r\n\r\n                <input type="hidden" class="eventId" />\r\n                <input type="hidden" class="eventDay" />\r\n\r\n                <div style="clear:both"></div>\r\n            </div>\r\n            <div class="modal-footer">\r\n                <button type="button" class="btn btn-primary add-event">'+m((j=b&&b.RESOURCES,j=null==j||j===!1?j:j.ADD,typeof j===l?j.apply(b):j))+'</button>\r\n                <button type="button" class="btn btn-primary edit-event">'+m((j=b&&b.RESOURCES,j=null==j||j===!1?j:j.EDIT,typeof j===l?j.apply(b):j))+'</button>\r\n                <button type="button" class="btn btn-default" data-dismiss="modal">'+m((j=b&&b.RESOURCES,j=null==j||j===!1?j:j.CLOSE,typeof j===l?j.apply(b):j))+"</button>\r\n            </div>\r\n        </div><!-- /.modal-content -->\r\n    </div><!-- /.modal-dialog -->\r\n</div><!-- /.modal -->"}),this.CalendarTemplates.events=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+='\r\n            <tr class="',d=c["if"].call(a,a&&a.unsaved,{hash:{},inverse:j.noop,fn:j.program(2,g,b),data:b}),(d||0===d)&&(e+=d),e+='" >\r\n                <td>\r\n                    '+l((d=a&&a.eventId,typeof d===k?d.apply(a):d))+"\r\n                </td>\r\n                <td>\r\n                    "+l((d=a&&a.year,typeof d===k?d.apply(a):d))+"-"+l((d=a&&a.month,typeof d===k?d.apply(a):d))+"-"+l((d=a&&a.day,typeof d===k?d.apply(a):d))+"\r\n                </td>\r\n                <td>\r\n                    "+l((d=a&&a.personName,typeof d===k?d.apply(a):d))+"\r\n                </td>\r\n                <td>\r\n                    "+l((d=a&&a.eventName,typeof d===k?d.apply(a):d))+'\r\n                </td>\r\n               <td>\r\n                   <a href="#" class="edit-event2" data-eventid="'+l((d=a&&a.eventId,typeof d===k?d.apply(a):d))+'">Edit</a>\r\n               </td>\r\n              <td>\r\n                  <a href="#" class="remove-event2" data-eventid="'+l((d=a&&a.eventId,typeof d===k?d.apply(a):d))+'">Remove</a>\r\n              </td>\r\n            </tr>\r\n            '}function g(){return"warning"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="",j=this,k="function",l=this.escapeExpression;return i+='<div class="event-list ">\r\n  <hr />\r\n    <h3>Event list</h3>\r\n    <table class="table  table-hover table-striped table-responsive">\r\n        <thead>\r\n            <tr>\r\n                <th>\r\n                    Id\r\n                </th>\r\n                <th>\r\n                    Date\r\n                </th>\r\n                <th>\r\n                    Person name\r\n                </th>\r\n                <th>\r\n                    Event name\r\n                </th>\r\n                <th></th>\r\n                <th></th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            ',h=c.each.call(b,b,{hash:{},inverse:j.noop,fn:j.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+="\r\n        </tbody>\r\n    </table>\r\n</div>"}),this.CalendarTemplates.panel=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div class="calendar-panel text-center">\r\n\r\n    <button class="btn btn-default panel-add-event" style="display:none">Add event</button>\r\n    <button class="btn btn-default panel-edit-event" style="display:none">Edit event</button>\r\n    <button class="btn btn-default panel-remove-event" style="display:none">Remove event</button>\r\n\r\n\r\n    <button class="btn btn-default save-events">Save events</button>\r\n    <label for="event-autosave">Autosave</label>\r\n    <input type="checkbox" id="event-autosave" class="event-autosave" />\r\n\r\n    <br/>\r\n\r\n    <button class="btn btn-primary prev-year">Previous year</button>\r\n    <button class="btn btn-primary prev-month">Previous month</button>  \r\n\r\n    <h2 style="display:inline-block">\r\n        <span class="label label-primary label-lg currentYearMonth">',(g=c.currentYearMonth)?f=g.call(b,{hash:{},data:e}):(g=b&&b.currentYearMonth,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'</span>\r\n    </h2>\r\n\r\n    <button class="btn btn-primary next-month">Next month</button>\r\n    <button class="btn btn-primary next-year">Next year</button>\r\n\r\n    <button class="btn btn-primary load-people">Load people</button>\r\n</div>'}),this.CalendarTemplates.selectPartial=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\r\n        <option value="',(e=c.personId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.personId,d=typeof e===i?e.call(a,{hash:{},data:b}):e),f+=j(d)+'">',(e=c.personName)?d=e.call(a,{hash:{},data:b}):(e=a&&a.personName,d=typeof e===i?e.call(a,{hash:{},data:b}):e),f+=j(d)+"</option>\r\n    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h="",i="function",j=this.escapeExpression,k=this;return h+='<select class="person form-control">\r\n    ',g=c.each.call(b,b&&b.people,{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(g||0===g)&&(h+=g),h+="\r\n</select>"}),function(a){var b=function(b){Array.prototype.insert=function(a,b){this.splice(a,0,b)};var c={MODAL_TITLE:"Event modal",MODAL_BODY:"Please insert attendee and event names",PERSON_NAME:"Attendee's name",EVENT_NAME:"Event's name",ADD_EVENT_TITLE:"Add event",EDIT_EVENT_TITLE:"Edit event",CLOSE:"Close",ADD:"Add",EDIT:"Edit",PREVIOUS_YEAR:"Previous year",NEXT_YEAR:"Next year",PREVIOUS_MONTH:"Previous month",NEXT_MONTH:"Next month",AUTOSAVE:"Autosave",SAVE_EVENTS:"Save events",CLEAR_EVENTS:"Clear events",REMOVE:"Remove"},d=null,e=!1,f="localStorage",g=void 0,h=null,i=null,j=!0,k=void 0,l="top",m="",n=!0,o=function(){return void 0!=localStorage?(this.saveAllEvents=function(){if(t instanceof Object){for(var a=[],b=0;b<t.length;b++){var c=t[b],d={};jQuery.extend(d,c),d.container=void 0,a.push(d)}var e=JSON.stringify(a);localStorage.setItem("events",e)}else localStorage.removeItem("events")},this.readAllEvents=function(){var a=localStorage.getItem("events");try{if(void 0==a||void 0==a)throw new Error("temp is undefined");for(var b=JSON.parse(a),c=0;c<b.length;c++){var d=b[c];F(d,!1)}}catch(e){t=new q}},this.clearAllEvents=function(){t=new q,localStorage.removeItem("events")},this):void 0},p=function(){var a="ready";$(".calendar-loader").hide();var b=function(b){switch(a=b,b){case"load":$(".calendar-loader").fadeIn(250);break;case"idle":case"ready":$(".calendar-loader").fadeOut(500)}};return this.urls={getAllEvents:""},this.setUrls=function(a){this.urls=a},this.getUrls=function(){return this.urls},this.saveData=function(){var a={eventsToAdd:r,eventsToRemove:s},c=JSON.stringify(a);b("load"),$.ajax({type:"POST",url:this.urls.saveData,contentType:"application/json",data:c,success:function(){console.log("saved"),P("Events have been saved","success");for(var a=0;a<r.length;a++){var b=r[a];b.unsaved=!1}r=[],s=[],O()},error:function(a){P("There was an error while trying to save events","danger"),console.log(a)},complete:function(){b("idle")}})},this.saveAllEvents=function(){this.saveData()},this.readAllPeople=function(a){void 0==a&&(a=!1),void 0!=this.urls.getPeople&&(b("load"),$.ajax({type:"GET",url:this.urls.getPeople,success:function(a){var b=$("#calendarEventModal .person"),c={people:a},d=k.selectPartial(c);b.replaceWith(d)},complete:function(){b("idle")}}))},this.readAllEvents=function(a,c){void 0==a&&(a=!1),b("load"),$.ajax({type:"GET",url:this.urls.getEvents,success:function(b){if(void 0!=b&&null!=b)for(var d=0;d<b.length;d++){var e=b[d];e.month-=1,F(e,!1)}a&&void 0!=c&&c(),M()},error:function(a){console.log(a)},complete:function(){b("idle")}})},this.clearAllEvents=function(){console.log("This function is not supported")},this},q=function(){return new Array},r=[],s=[],t=[],u=[],v=function(a,b,c){var d=b+1;return void 0!=c?a+"-"+d+"-"+c:void 0!=a&&void 0!=b?(10>d&&(d="0"+d),a+" - "+d):""},w=function(){k=CalendarTemplates,Handlebars.registerPartial("selectPartial",k.selectPartial),Handlebars.registerHelper("formatDate",v)},x=function(){w();var c=b,k="Calendar cannot be initialized. Dependency required: ";if(void 0==a.Handlebars)throw new Error(k+"Handlebars.js");if(void 0==a.jQuery)throw new Error(k+"jQuery.js");var m=!1;if("string"==typeof c)d=c;else{if("object"!=typeof c)throw new Error("Invalid options");if(d=c.selector,void 0!=c.debug&&(e=c.debug),void 0!=c.sync){var q={};if("string"==typeof c.sync?f=c.sync:"object"==typeof c.sync&&(void 0!=c.sync.type&&(f=c.sync.type),q.getEvents=c.sync.getEvents,q.saveData=c.sync.saveData,q.getPeople=c.sync.getPeople),"localStorage"!=f&&"remote"!=f)throw new Error("Invalid sync type");switch(f){case"localStorage":g=new o;break;case"remote":g=new p,g.setUrls(q),g.readAllPeople(),m=!0;break;default:g=void 0}void 0!=g.readAllEvents&&g.readAllEvents(m)}void 0!=c.showEventList&&(1==c.showEventList||0==c.showEventList)&&(n=c.showEventList)}if(void 0==d||null==d)throw new Error("Invalid selector");if(e)for(var r=0;12>r;r++)for(var s=1;31>=s;s++)for(var t=0;1>t;t++)E(2014,r,s,1,"Jan Kowalski","Swimming",void 0,r*s*t);if(void 0==c.year||void 0==c.month&&"number"!=typeof c.year||"number"!=typeof c.month){var u=new Date;h=u.getFullYear(),i=u.getMonth()}else L(c.year,c.month);void 0==c.panel||"bottom"!=c.panel&&"top"!=c.panel||(l=c.panel),y(),z(),A(l),C(),D(),void 0!=c.render&&(j=c.render),j&&M()},y=function(){var a=k.calendarContainer();$(d).append(a),m=".calendar-container"},z=function(){var a={add:!0,RESOURCES:c,enable_dropdown:!0,people:u},b=k.eventModal(a);$("body").append(b)},A=function(a){var b=h+" - "+(i+1),c={currentYearMonth:b},d=k.panel(c);"bottom"==a?$(m).after(d):$(m).before(d)},B=function(){var a=$(".calendar-panel .event-autosave");return void 0!=a&&a.length>0?a[0].checked:!1},C=function(){var a=".calendar-panel ";$(a+".prev-month").click(function(){i--,0>i&&(i=11,h--),M()}),$(a+".next-month").click(function(){i++,i>11&&(i=0,h++),M()});var b=function(a){h+=a,M()};$(a+".prev-year").click(function(){b(-1)}),$(a+".next-year").click(function(){b(1)});var c=function(a){var b=$("#calendarEventModal"),c=b.find(".person"),d=b.find(".eventName"),e=c.val(),f=d.val();return void 0!=f&&""!=f?(E(h,i,a,e,"none",f),M(),c.val(""),d.val(""),!0):!1};$(d).on("click",".panel-add-event",function(){var a=$("#calendarEventModal"),b=$(d).find(".week-day-div.selected");if(b.length>0){var c=$(b).parent().data("day"),e=h+"-"+i+"-"+c,f=a.find(".modalTitleDate");f.html(e);var g=a.find(".eventDay");g.val(c),a.modal("show")}}),$(d).on("click",".panel-edit-event",function(){var a=$("#calendarEventModal"),b=$(d).find(".event.selected");if(b.length>0){var c=$(b).data("day"),e=$(b).data("eventid"),f=h+"-"+i+"-"+c;a.find(".modalTitleDate").html(f),a.find(".eventDay").val(c),a.find(".eventId").val(e),a.modal("show")}}),$(d).on("click",".panel-remove-event",function(){var a=$(d).find(".event.selected");if(a.length>0){var b=($(a).data("day"),$(a).data("eventid"));void 0!=b&&(G(b),M())}}),$(d).on("click",".week-day-div",function(){var a=$(this).hasClass("selected"),b=$(d+" .btn.panel-add-event");a?($(this).removeClass("selected"),b.hide()):($(d+" .week-day-div").removeClass("selected"),$(this).addClass("selected"),b.show())}),$(d).on("click",".event",function(a){a.stopPropagation();var b=$(this).hasClass("selected"),c=$(d+" .btn.panel-edit-event"),e=$(d+" .btn.panel-remove-event");b?($(this).removeClass("selected"),c.hide(),e.hide()):($(d+" .event").removeClass("selected"),$(this).addClass("selected"),c.show(),e.show())}),$("#calendarEventModal .add-event").click(function(){var a=$("#calendarEventModal .eventDay").val(),b=c(a);if(b){var d=$("#calendarEventModal");d.modal("hide")}}),$(a+".save-events").click(function(){T()}),$(a+".clear-events").click(function(){U(),M()}),$(a+".reload-events").click(function(){U(),g.readAll(!0,function(){M()})}),$(a+".load-people").click(function(){void 0!=g.readAllPeople&&g.readAllPeople(!0)})},D=function(){$(".event-container").on("click",".edit-event2",function(){var a=$(this).data("eventid");if(void 0!=a){var b=$("#calendarEventModal");b.find(".eventId").val(a),b.modal("show")}return!1}),$(".event-container").on("click",".remove-event2",function(){var a=$(this).data("eventid");return void 0!=a&&(G(a),M()),!1})},E=function(a,b,c,d,e,f,g,h){void 0==g&&(g=R()),void 0==h&&(h=(new Date).getTime());var i={eventId:h,personId:d,personName:e,eventName:f,color:g,unsaved:!0,year:a,month:b,day:c};F(i,!0),B()&&T()},F=function(a,b){void 0==b&&(b=!1),"object"==typeof a&&(b&&(a.unsaved=!0,r.push(a)),t.push(a))},G=function(a){for(var b=null,c=0;c<t.length;c++)if(t[c].eventId==a){b=t[c];break}if(null!=b){var d=t.indexOf(b);-1!=d&&(s.push(b),t.splice(d,1))}B()&&T()},H=function(){return["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]},I=function(a,b,c){for(var d=[],e=0;e<t.length;e++){var f=t[e];f.year==a&&f.month==b&&f.day==c&&d.push(f)}return d},J=function(a,b){for(var c=[],d=0;d<t.length;d++){var e=t[d];e.year==a&&e.month==b&&c.push(e)}return c},K=function(a,b){var c=new Date,d=c.getFullYear(),e=c.getMonth(),f=c.getDate(),g=new Date(a,b),h=(g.getMonth(),[]),i={days:[]},j=0,k=function(a){j++,i.days.push(a)},l=function(){h.push(i),i={days:[]}},m=new Date(g);m.setDate(m.getDate()-1);for(var n=m.getDay(),o=0;n>o;o++)k({});var p=g.getDate();do{j%7==0&&l(i);var q={date_string:S(a,b,p),bg_color:"#DEDEDE",dayValue:p};a==d&&b==e&&p==f&&(q.current=!0);var r=I(a,b,p);q.events=r,k(q),p++,g=new Date(a,b,p),p=g.getDate()}while(p>1);return i.days.length>0&&l(i),h},L=function(a,b){h=a,i=b},M=function(a,b,c){void 0!=a&&void 0!=b&&L(a,b),void 0==c&&(c=["calendar","events"]),N(),O();var d=v(h,i);$(".calendar-panel .currentYearMonth").html(d),-1!=c.indexOf("calendar"),c.indexOf("events")-1},N=function(){var a=$(m),b=h;b+=9>i?" 0"+(i+1):" "+(i+1);var c=K(h,i),d={weekdays:H(),weeks:c},e=k.calendar(d);a.html(e)},O=function(){if(n){var a=J(h,i),b=k.events(a);$(d+" .event-container").html(a.length>0?b:"")}},P=function(a,b){void 0==b&&(b="success");var c={alertType:b,alertMessage:a},e=k.alert(c);$(d+" .calendar-alertarea").html(e)},Q=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],R=function(){for(var a="#",b=0;6>b;b++){var c=Math.round(Math.random()*(Q.length-1));a+=Q[c]}return a},S=function(a,b,c){return b+=1,10>b&&(b="0"+b),10>c&&(c="0"+c),a+"-"+b+"-"+c},T=function(){void 0!=g&&g.saveAllEvents()},U=function(){t=new q,r=new q,s=new q};return x(),{render:M,addEvent:E,removeEvent:G,getEvents:function(){return t},saveEvents:T,clearEvents:U}};a.Calendar=b}(window);