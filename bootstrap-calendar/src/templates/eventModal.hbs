<div id="calendarEventModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">{{RESOURCES.CLOSE}}</span></button>
                <h4 class="modal-title">{{RESOURCES.MODAL_TITLE}} <span class="modalTitleDate"></span></h4>
            </div>
            <div class="modal-body">
                <p>{{RESOURCES.MODAL_BODY}}</p>

                <div class="row row-mar">
                    <div class="col-md-5 col-lg-5">
                        {{#if enable_dropdown}}
                            <span>Select person:</span>
                        {{else}}
                            <span>{{RESOURCES.PERSON_NAME}}</span>
                        {{/if}}
                    </div>
                    <div class="col-md-7 col-lg-7">
                        {{#if enable_dropdown}}
                            {{> selectPartial}}
                        {{else}}
                            <input class="person form-control">
                        {{/if}}
                    </div>
                </div>

                <div class="row row-mar">
                    <div class="col-md-5 col-lg-5">
                        <span>{{RESOURCES.EVENT_NAME}}:</span>
                    </div>
                    <div class="col-md-7 col-lg-7">
                        <textarea maxlength="500" rows="4" class="eventName form-control" />
                    </div>
                </div>

                <div class="row row-mar">
                    <div class="col-md-5 col-lg-5">
                        Time from:
                    </div>
                    <div class="col-md-7 col-lg-7">
                        <input type="range" class="timeFrom" name="timeFrom" step="1" min="0" max="24" value="10">
                        <div class="timeFrom-output"></div>
                    </div>
                </div>

                <div class="row row-mar">
                    <div class="col-md-5 col-lg-5">
                        Time to:
                    </div>

                    <div class="col-md-7 col-lg-7">
                        <input type="range" class="timeTo" name="timeTo" step="1" min="0" max="24" value="11">
                        <div class="timeTo-output"></div>
                    </div>
                </div>

                <input type="hidden" class="eventId" />
                <input type="hidden" class="eventDay" />

                <div style="clear:both"></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary add-event">{{RESOURCES.ADD}}</button>
                <button type="button" class="btn btn-primary edit-event">{{RESOURCES.EDIT}}</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">{{RESOURCES.CLOSE}}</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<script>
    $('.timeFrom').change(function () {
        var out = $('.timeFrom-output');
        var value = $(this).val();
        out.html(format(value));
    });

    $('.timeTo').change(function () {
        var out = $('.timeTo-output');
        var value = $(this).val();
        out.html(format(value));
    });

    $(function (){
        $('.timeFrom').trigger('change');
        $('.timeTo').trigger('change');
    });

    $('.timeTo,.timeFrom').keydown(function () {
        $(this).trigger('change');
    });

    var format = function (val) {

        var hour = val;
        if (hour < 10)
            hour = '0' + hour;

        return hour + ':00';
        

        //var hour = Math.floor(val / 4);
        //if (hour < 10)
        //    hour = '0' + hour;

        //var minute = Math.floor((val % 4) * 15);
        //if (minute < 10)
        //    minute = '0' + minute;

        //return hour + ':' + minute;
    };

    var validate = function () {
        var timeTo = $('.timeTo');
        var timeFrom = $('.timeFrom');

        if (timeFrom.val() > timeTo.val()) {
            timeFrom.val(timeTo.val());
            timefrom.trigger('change');
        }
        else if (timeTo.val() < timeFrom.val())
        {
            timeTo.val(timeFrom.val());
            timeTo.trigger('change');
        }
    };

</script>